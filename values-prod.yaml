clusterGroup:
  name: prod
  isHubCluster: true

  namespaces:
    - vault
    - golang-external-secrets
    - travel-agency:
        labels:
          istio.io/dataplane-mode: ambient
    - travel-portal:
        labels:
          istio.io/dataplane-mode: ambient
    - travel-control:
        labels:
          istio.io/dataplane-mode: ambient
    - istio-system

  subscriptions:
    servicemesh:
      name: servicemeshoperator3

    servicemesh-console:
      name: kiali-ossm

  projects:
    - hub
    - servicemesh
    - travelops

  applications:
    vault:
      name: vault
      namespace: vault
      project: hub
      chart: hashicorp-vault
      chartVersion: 0.1.*

    golang-external-secrets:
      name: golang-external-secrets
      namespace: golang-external-secrets
      project: hub
      chart: golang-external-secrets
      chartVersion: 0.1.*

    mysql:
      name: mysqldb
      namespace: travel-agency
      project: travelops
      path: charts/all/travelops/mysqldb

    agency:
      name: travel-agency
      namespace: travel-agency
      project: travelops
      path: charts/all/travelops/travel-agency

    portal:
      name: travel-portal
      namespace: travel-portal
      project: travelops
      path: charts/all/travelops/travel-portal

    control:
      name: travel-control
      namespace: travel-control
      project: travelops
      path: charts/all/travelops/travel-control

    servicemesh:
      name: servicemesh
      namespace: istio-system
      project: servicemesh
      path: .
      repoURL: https://github.com/validatedpatterns/servicemesh3-chart
      chartVersion: main

servicemesh:
  profile: ambient

  istio:
    values:
      trustedZtunnelNamespace: istio-system

  ztunnel:
    enabled: true

  monitoring:
    podMonitorNamespaces:
      - istio-system
